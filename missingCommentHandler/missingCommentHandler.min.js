window.dkr=window.dkr||{},dkr.missingCommentHandler=dkr.missingCommentHandler||{},dkr.missingCommentHandler.missingCommentErrorLabel={de:"Kommentar auf folgendem Pfad erforderlich",en:"Comment is required on path",pl:"Komentarz jest wymagany na ścieżce",it:"Il commento è obbligatorio",sl:"Potrebno je vnesti komentar",ro:"Comentariul este obligatoriu pe calea"},dkr.missingCommentHandler.continueBtnLabel={de:"Weiter",en:"Continue",pl:"Kontynuuj",it:"Procedi",sl:"Nadaljuj",ro:"Mai departe"},dkr.missingCommentHandler.VersionDependingValues=[{version:"0.0.0.0",values:{modifyErrorPanel:function(){let e=document.querySelectorAll(".form-error-modal div.form-errors-panel__errors-container__error");if(2!=e.length)return;let t=document.querySelector(".form-error-modal"),n=dkr.missingCommentHandler.missingCommentErrorLabel[window.initModel.userLang.substr(0,2)];if(!n)return void alert("Label for 'missing comment on path' is not defined for language :'"+window.initModel.userLang.substr(0,2));let o=dkr.missingCommentHandler.continueBtnLabel[window.initModel.userLang.substr(0,2)],r=e[1].getAttribute("data-key");if(!r.startsWith(n))return;e[1].insertAdjacentHTML("afterend",'<div id="newComment"><textarea id="newCommentText" class="text-area standard-focus wfFormControl form-control" rows="5" cols="20" ></textarea></div>');let i=r.substring(r.indexOf(":")+1),a=ccls.utils.basicPathInformation.filter((e=>e.title==i.trim())),s=$(".form-error-modal__close-button",t);s.hide();let d=`<button id="missingCommentContinueButton" onClick="dkr.missingCommentHandler.tryAgainPathExecution(${a[0].id})" class="webcon-button animated standard-focus form-error-modal__close-button modal-button th-button-default webcon-button--padding-default standard-focus" data-key="${o}" tabindex="0" type="button"><div class="typography typography-font-size-standard webcon-button__title">${o}</div></button>`;s[0].insertAdjacentHTML("afterend",d)}}},{version:"2023.1.3.29",values:{modifyErrorPanel:function(){let e=document.querySelectorAll(".form-errors-panel div.form-errors-panel__errors-container__error");if(1!=e.length)return;let t=document.querySelector(".form-error-modal"),n=dkr.missingCommentHandler.missingCommentErrorLabel[window.initModel.userLang.substr(0,2)];if(!n)return void alert("Label for 'missing comment on path' is not defined for language :'"+window.initModel.userLang.substr(0,2));let o=dkr.missingCommentHandler.continueBtnLabel[window.initModel.userLang.substr(0,2)],r=e[0].children[1].getAttribute("data-key");if(!r.startsWith(n))return;e[0].insertAdjacentHTML("afterend",'<div id="newComment"><textarea id="newCommentText" class="text-area standard-focus wfFormControl form-control" rows="5" cols="20" ></textarea></div>');let i=r.substring(r.indexOf(":")+1),a=ccls.utils.basicPathInformation.filter((e=>e.title==i.trim())),s=$(".form-error-modal__close-button",t);s.hide();let d=`<button id="missingCommentContinueButton" onClick="dkr.missingCommentHandler.tryAgainPathExecution(${a[0].id})" class="webcon-button animated standard-focus form-error-modal__close-button modal-button th-button-default webcon-button--padding-default standard-focus" data-key="${o}" tabindex="0" type="button"><div class="typography typography-font-size-standard webcon-button__title">${o}</div></button>`;s[0].insertAdjacentHTML("afterend",d)}}}],dkr.missingCommentHandler.versionValues=ccls.utils.getVersionValues(dkr.missingCommentHandler.VersionDependingValues),dkr.missingCommentHandler.tryAgainPathExecution=function(e){let t=document.getElementById("newCommentText"),n=document.getElementsByClassName("comments-body")[0].firstChild;var o=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set;eventObject=new Event("input",{bubbles:!0}),o.call(n,t.value),n.dispatchEvent(eventObject),eventObject=new Event("focusout",{bubbles:!0}),n.dispatchEvent(eventObject),setTimeout((()=>{MoveToNextStep(e)}),100)},dkr.missingCommentHandler.MutationCallback=async function(e,t){-1==document.location.href.indexOf("/element/")&&-1==document.location.href.indexOf("/start/")&&(console.log("Disconnecting observer for "+document.location.href),delete dkr.missingCommentHandler.ModalContentObserver,t.disconnect()),null==document.getElementById("newComment")&&dkr.missingCommentHandler.versionValues.modifyErrorPanel()},void 0===dkr.missingCommentHandler.ModalContentObserver&&(dkr.missingCommentHandler.observerCounter=0,dkr.missingCommentHandler.ModalContentObserver=new MutationObserver(dkr.missingCommentHandler.MutationCallback),dkr.missingCommentHandler.ModalContentObserver.observe(document.getElementById("Modals"),{subtree:!0,childList:!0}),console.log("Missing comment observer created")),console.log("Missing comment handler loaded");